<ion-header>
  <ion-toolbar>
    <ion-title></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" [fullscreen]="true">
  <div class="welcome-container">
    <ion-card *ngIf="user" class="welcome-card">
      <ion-card-content>
        <h2>Bienvenido, {{ user.nombre }}</h2>
      </ion-card-content>
    </ion-card>
  </div>

    <div class="attendance-container">
      <ion-card *ngIf="lastAttendance; else noAttendance">
        <ion-card-header>
          <ion-card-title>Última clase atendida</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p><strong>Sección:</strong> {{ lastAttendance.sectionName }}</p>
          <p><strong>Fecha:</strong> {{ lastAttendance.timestamp?.toDate() | date: 'shortDate' }}</p>
          <p><strong>Hora:</strong> {{ lastAttendance.timestamp?.toDate() | date: 'shortTime' }}</p>
        </ion-card-content>
      </ion-card>
  
      <ng-template #noAttendance>
        <ion-card>
          <ion-card-content>
            <p>No tienes registros de asistencia todavía.</p>
          </ion-card-content>
        </ion-card>
      </ng-template>
    </div>
    <!--<ion-list> *****FUTURA FEATURE*****
      <ion-button 
      *ngFor="let subject of subjects" 
      (click)="onSectionSelect(section.id)" 
      [class.selected]="selectedSection === section.id">
      {{ section.name }}
    </ion-button>
    </ion-list>-->

  <ion-tabs>
    <ion-tab-bar slot="bottom">
      <ion-tab-button tab="scan">
        <ion-icon name="camera"></ion-icon>
        <ion-label>Escanear QR</ion-label>
      </ion-tab-button>

      <ion-tab-button tab="user">
        <ion-icon name="person"></ion-icon>
        <ion-label>Perfil</ion-label>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-tabs>
</ion-content>
